# Debug lib suffix
set(LIB_DEBUG_SUFFIX "d")

# Defs header file
set(LASSIE_DEFS_FILE "${CMAKE_CURRENT_BINARY_DIR}/LASsieDefs.h")
file(WRITE "${LASSIE_DEFS_FILE}" "/* This file was auto-generated by cmake */

#ifndef MODRI_LASSIE_LASSIEDEFS_H
#define MODRI_LASSIE_LASSIEDEFS_H

#define LASSIE_VERSION_MAJOR ${LASSIE_VERSION_MAJOR}
#define LASSIE_VERSION_MINOR ${LASSIE_VERSION_MINOR}
#define LASSIE_VERSION_PATCH ${LASSIE_VERSION_PATCH}

#endif // MODRI_LASSIE_LASSIEDEFS_H
")

# Headers/sources
set(LIB_HEADER_FILES
		"${LASSIE_DEFS_FILE}"
		"Types.h"
		"LASsie.h"
	)
set(LIB_SOURCE_FILES
		"LASsie.cpp"
    )

# Target builds
add_library("${PROJECT_NAME}" STATIC ${LIB_SOURCE_FILES})
set_target_properties(
		"${PROJECT_NAME}"
		PROPERTIES
		DEBUG_OUTPUT_NAME   "${PROJECT_NAME}${LIB_DEBUG_SUFFIX}"
		RELEASE_OUTPUT_NAME "${PROJECT_NAME}"
	)

# Installation
install(TARGETS "${PROJECT_NAME}" DESTINATION "lib")
install(FILES ${LIB_HEADER_FILES} DESTINATION "include/${PROJECT_NAME}")
